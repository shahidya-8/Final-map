<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Eco Sensitive Areas Map</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <!-- Leaflet Stylesheet for Layer Toggle -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

  <style>
    html, body, #map {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      background-color: #ffffff;
    }
    #map-title {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10000;
      background: rgba(255, 255, 255, 0.9);
      padding: 8px 16px;
      border-radius: 8px;
      font-family: 'Arial Black', Arial, sans-serif;
      font-size: 20px;
      font-weight: bold;
      color: #2c3e50;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    #north-arrow {
      position: fixed;
      bottom: 10px;
      right: 10px;
      z-index: 10001;
      width: 50px;
      height: 50px;
    }
    #north-arrow svg {
      width: 100%;
      height: 100%;
      fill: #2c3e50;
    }
    #feedback-toggle {
      position: absolute;
      bottom: 20px;
      left: 20px;
      z-index: 9999;
      cursor: pointer;
      background-color: #4CAF50;
      padding: 10px 15px;
      border-radius: 50%;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      color: white;
      font-size: 20px;
    }
    #form-title-tooltip {
      display: none;
      position: absolute;
      bottom: 120px;
      left: 80px;
      background: rgba(44, 62, 80, 0.9);
      color: white;
      padding: 6px 10px;
      border-radius: 5px;
      font-size: 13px;
      z-index: 9999;
    }
    #feedback-form {
      display: none;
      position: absolute;
      bottom: 80px;
      left: 20px;
      z-index: 9998;
      width: 320px;
      max-height: 400px;
      overflow-y: auto;
      background: #f2f2f2;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      font-family: sans-serif;
    }
  </style>
</head>
<body>
  <div id="map-title">ECO SENSITIVE AREAS IN PUTTALAM & MANNAR</div>

  <div id="north-arrow">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
      <polygon points="32,4 12,60 32,48 52,60" />
    </svg>
  </div>

  <div id="map"></div>

  <div id="feedback-toggle" 
    onmouseover="document.getElementById('form-title-tooltip').style.display='block'" 
    onmouseout="document.getElementById('form-title-tooltip').style.display='none'" 
    onclick="toggleForm()">
    üí¨
  </div>

  <div id="form-title-tooltip">SHAPE THE MAP WITH YOUR VOICES</div>

  <div id="feedback-form">
    <h3 style="margin-top: 0; color: #2c3e50;">üì¨ SHAPE THE MAP WITH YOUR VOICES</h3>
    <form action="https://formspree.io/f/mqalqggl" method="POST">
      <label>Your Name</label><br>
      <input type="text" name="name" placeholder="Optional" style="width:100%;"><br><br>

      <label>Age Group</label><br>
      <select name="age" style="width:100%;">
        <option>Under 18</option>
        <option>18‚Äì30</option>
        <option>31‚Äì50</option>
        <option>51+</option>
      </select><br><br>

      <label>Your Email (optional):</label><br>
      <input type="email" name="email" placeholder="example@mail.com" style="width:100%;"><br><br>

      <label>Easy to use?</label><br>
      <input type="radio" name="easy_use" value="Yes"> Yes
      <input type="radio" name="easy_use" value="No"> No<br><br>

      <label>Device friendly?</label><br>
      <input type="radio" name="device" value="Yes"> Yes
      <input type="radio" name="device" value="No"> No<br><br>

      <label>Rate (1‚Äì5)</label><br>
      <select name="rating" style="width:100%;">
        <option>‚≠ê</option><option>‚≠ê‚≠ê</option><option>‚≠ê‚≠ê‚≠ê</option>
        <option>‚≠ê‚≠ê‚≠ê‚≠ê</option><option>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
      </select><br><br>

      <label>Favorite place?</label><br>
      <input type="checkbox" name="place" value="Mangroves"> üå¥ Mangroves<br>
      <input type="checkbox" name="place" value="Bird Sanctuary"> üê¶ Bird Sanctuary<br>
      <input type="checkbox" name="place" value="Bar Reef"> üê† Bar Reef<br>
      <input type="checkbox" name="place" value="Wilpattu"> üêò Wilpattu<br>
      <input type="checkbox" name="place" value="Galwila"> üåø Galwila<br>
      <input type="checkbox" name="place" value="Thalaimannar"> üåä Thalaimannar<br><br>

      <label>Informations clear?</label><br>
      <input type="radio" name="informations_clear" value="Yes"> Yes
      <input type="radio" name="informations_clear" value="No"> No<br><br>

      <label>Popup helpful?</label><br>
      <input type="radio" name="popup_help" value="Yes"> Yes
      <input type="radio" name="popup_help" value="No"> No<br><br>

      <label>What to add?</label><br>
      <input type="text" name="add_next" placeholder="e.g., stats, AR" style="width:100%;"><br><br>

      <label>Suggestions</label><br>
      <textarea name="comments" rows="2" style="width:100%;"></textarea><br><br>

      <button type="submit" style="padding: 6px 12px; background-color: #4CAF50; color: white; border: none; border-radius: 5px;">
        ‚úÖ Submit
      </button>
    </form>
  </div>

  <!-- Leaflet Scripts -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    function toggleForm() {
      const form = document.getElementById("feedback-form");
      form.style.display = form.style.display === "none" ? "block" : "none";
    }

    var map = L.map('map').setView([8.6, 79.9], 8);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Define dummy layers (replace these with real GeoJSON layers)
    var mangroves = L.layerGroup().addTo(map);
    var birdSanctuary = L.layerGroup().addTo(map);
    var barReef = L.layerGroup().addTo(map);
    var wilpattu = L.layerGroup().addTo(map);
    var galwila = L.layerGroup().addTo(map);
    var thalaimannar = L.layerGroup().addTo(map);

    var overlayMaps = {
      "üå¥ Mangroves": mangroves,
      "üê¶ Bird Sanctuary": birdSanctuary,
      "üê† Bar Reef": barReef,
      "üêò Wilpattu": wilpattu,
      "üåø Galwila": galwila,
      "üåä Thalaimannar": thalaimannar
    };

    L.control.layers(null, overlayMaps, {
      collapsed: false,
      position: 'topright'
    }).addTo(map);
  </script>
</body>
</html>
